<html lang='en-US'>

<head>
    <meta charset='UTF-8' />
    <meta name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1' />
    <meta name='pinterest' content='nopin' />
    <title>Java Interop</title>
    <link rel='canonical' href='https://eta-lang.org' />
    <meta name='keywords' content='Documentation, Eta, Haskell, Scala, Clojure, JVM, Functional Programming, Functional Programming on the JVM, Java Virtual Machine' />
    <meta name='description' content='Documentation of Eta Programming Language.' />
    <link rel='apple-touch-icon' sizes='57x57' href='/favicon/apple-icon-57x57.png' />
    <link rel='apple-touch-icon' sizes='60x60' href='/favicon/apple-icon-60x60.png' />
    <link rel='apple-touch-icon' sizes='72x72' href='/favicon/apple-icon-72x72.png' />
    <link rel='apple-touch-icon' sizes='76x76' href='/favicon/apple-icon-76x76.png' />
    <link rel='apple-touch-icon' sizes='114x114' href='/favicon/apple-icon-114x114.png' />
    <link rel='apple-touch-icon' sizes='120x120' href='/favicon/apple-icon-120x120.png' />
    <link rel='apple-touch-icon' sizes='144x144' href='/favicon/apple-icon-144x144.png' />
    <link rel='apple-touch-icon' sizes='152x152' href='/favicon/apple-icon-152x152.png' />
    <link rel='apple-touch-icon' sizes='180x180' href='/favicon/apple-icon-180x180.png' />
    <link rel='icon' type='image/png' sizes='192x192' href='/favicon/android-icon-192x192.png' />
    <link rel='icon' type='image/png' sizes='32x32' href='/favicon/favicon-32x32.png' />
    <link rel='icon' type='image/png' sizes='96x96' href='/favicon/favicon-96x96.png' />
    <link rel='icon' type='image/png' sizes='16x16' href='/favicon/favicon-16x16.png' />
    <link rel='dns-prefetch' href='//fonts.googleapis.com' />
    <link rel='dns-prefetch' href='//s.w.org' />
    <link rel='stylesheet' href='/css/eta-theme.css' type='text/css' media='all' />
    <link rel='stylesheet' href='/css/style.css' type='text/css' media='all' />
    <link rel='stylesheet' href='//fonts.googleapis.com/css?family=Roboto%3A100%2C300%2C400%2C700&ver=5a155dfba583c' type='text/css' media='all' />
    <link href='https://fonts.googleapis.com/css?family=Cousine' rel='stylesheet' />
    <link rel='stylesheet' id='jquery-slick-css' href='/css/slick.css' type='text/css' media='all' />
    <link rel='stylesheet' id='jquery-slick-theme-css' href='/css/slick-theme.css' type='text/css' media='all' />
    <link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css' />
    <script type='text/javascript' src='/js/jquery/jquery.js'></script>
    <script type='text/javascript' src='/js/jquery/jquery-migrate.min.js'></script>
    <script type='text/javascript' src='/js/slick.js'></script>
</head>

<body class='page-template page-template-custom-pages page-template-page page-template-features page-template-custom-pagespagefeatures-php page page-id-4566 object-4566'>

    <!-- Hero Section -->
    <div class='hero-container'>
        <style>
.dropbtn {
    background-color: inherit;
    color: white;
    padding: 5px;
    font-size: 14px;
    font-weight: 300;
    border: none;
    font-family: 'Roboto';
    text-transform: uppercase;
}

.mobile-nav .dropbtn{
  font-size: 22px;
  text-transform: none;
  padding-left: 0px;
}

.dropdown {
    position: relative;
    display: inline-block;
}

.dropdown-content {
    display: none;
    position: absolute;
    background-color: #ffffff;
    min-width: 160px;
    box-shadow: 0px 10px 40px 0px rgba(47, 47, 47, 0.1);
    z-index: 1;
}

.mobile-nav .dropdown-content{
  position: static;
  background-color: inherit;
  min-width: inherit;
  box-shadow: 0px 0px 0px 0px #000000;
}

.dropdown-content a {
    color: #5333ed;
    padding: 12px 16px;
    text-decoration: none;
    display: block;
    font-size: 14px;
}

.dropdown-content a:hover {background-color: inherit;}

.mobile-nav .dropdown-content a:hover {background-color: none;}

.dropdown:hover .dropdown-content {
    display: block;
}

.dropdown:hover .dropbtn {
    background-color: inherit;
}

</style>
<div class='container hero-menu'>
    <div class='row'>
        <div class='col-xs-12 pt--50 pt--md--30 pt--xs--30'>
            <div id='site-menu-outer-container'>
                <div class='site-menu-container' id='site-menu'>
                    <div class='site-menu'>
                        <div class='site-menu__logo'>
                            <a href='https://eta-lang.org'>
                              <img alt='Eta Logo' src='/images/eta-logo-docs.svg' src='/images/eta-logo.svg' style='height: 20px;' />
                            </a>
                        </div>
                        <input type='checkbox' id='hamburger-menu-trigger' />
                        <nav class='site-menu__nav'>
                            <ul>
                                <li>
                                    <a class='active ' href='/'><span>Home</span></a>
                                </li>
                                <li>
                                    <div class='dropdown'>
                                        <button class='dropbtn active'>Documentation
                                        <img src='/images/arrow-down.svg' height='10px;' />
                                        </button>
                                        <div class='dropdown-content dropdown-hide'>
                                            <a href='/docs/'>Docs Home</a>
                                            <a href='/docs/user-guides'>User Guides</a>
                                            <a href='/docs/tutorials'>Tutorials</a>
                                            <a href='/docs/cheatsheets'>Cheatsheets</a>
                                            <a href='/docs/faq'>FAQ</a>
                                        </div>
                                    </div>
                                </li>
                                <li>
                                    <div class='dropdown'>
                                        <button class='dropbtn active'>Community
                                          <img src='/images/arrow-down.svg' height='10px;' />
                                        </button>
                                        <div class='dropdown-content dropdown-hide'>
                                            <a href='/community'>Community Home</a>
                                            <a href='/contribute'>Contribute</a>
                                            <a href='/contribute/proposals'>Proposals</a>
                                            <a href='/contribute/bug-report'>Bug Reports</a>
                                            <a href='/contribute/gsoc/2018'>GSoC 2018</a>
                                        </div>
                                    </div>
                                </li>

                                <li>
                                    <a class=' ' href='https://tour.eta-lang.org/'><span>Tour of Eta</span></a>
                                </li>
                                <li>
                                    <a class=' ' href='https://blog.eta-lang.org'><span>Blog</span></a>
                                </li>
                                <li>
                                    <a class=' ' href='https://github.com/typelead/eta' target='_blank'><span>GitHub</span></a>
                                </li>
                                <li>
                                    <a class='login' href='/docs/user-guides/eta-user-guide/installation/methods'><span>Install</span></a>
                                </li>
                            </ul>
                        </nav>

                        <label for='hamburger-menu-trigger' class='show-xs-only'>
                        <svg class style=' ' width='24' height='24' viewBox='0 0 24 24'><g fill-rule='nonzero' fill='white'><path d='M24 4.5c0 .825-.675 1.5-1.5 1.5h-21C.675 6 0 5.325 0 4.5S.675 3 1.5 3h21c.825 0 1.5.675 1.5 1.5zM24 12c0 .825-.675 1.5-1.5 1.5h-21C.675 13.5 0 12.825 0 12s.675-1.5 1.5-1.5h21c.825 0 1.5.675 1.5 1.5zM24 19.5c0 .825-.675 1.5-1.5 1.5h-21C.675 21 0 20.325 0 19.5S.675 18 1.5 18h21c.825 0 1.5.675 1.5 1.5z'></path></g></svg>
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

        <div class='container hero-content col middle-xs'>
            <div class='row'>
                <div class='col-xs-12 col-sm-12 col-lg-12 color--white'>
                    <h1 class='heading--large'>Java Interop</h1>

                    <p class='text--large mt--20'>Learn how to work with Java</p>
                    <div class='resource-bar__search pt--10 show-lg-only'>
                      <div class='resource-bar__search_placeholder'>
                        <form class='row middle-xs submitter nocol' method='get' action>
                          <input name='s' id='search-docs' type='text' required='required' value placeholder style='border-bottom: 1px solid white;' />
                          <svg class='submitter__trigger' style=' ' width='16' height='16' viewBox='0 0 16 16'><g fill='none' stroke='#fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' data-name='figures and interactions'><circle cx='7.28' cy='7.15' r='3.17'></circle><path d='M11.89 12.02L9.7 9.83'></path></g></svg>
                        </form>
                     </div>
                   </div>
                </div>
            </div>
        </div>

    </div>
    <div class='row'>
        <div class='col-lg-3 index-wrapper mt--20 show-lg-only' style='z-index: 1;'>
            <ul class='bullets-index' id='chaps'>
                <div class='resource-bar__search pt--10 show-lg-only' id='search_bar_sidenav'>
                  <div class='resource-bar__search_placeholder'>
                    <form class='row middle-xs submitter nocol' method='get' action>
                      <input name='s' id='min-search-docs' type='text' required='required' value placeholder='Search Documentation' style='border-bottom: 1px solid white;' />
                      <svg class='submitter__trigger' style=' ' width='16' height='16' viewBox='0 0 16 16'><g fill='none' stroke='#5333ed' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' data-name='figures and interactions'><circle cx='7.28' cy='7.15' r='3.17'></circle><path d='M11.89 12.02L9.7 9.83'></path></g></svg>
                    </form>
                  </div>
                </div>
                <li style="background: url('/images/startup.svg') no-repeat left top;background-size: 28px 28px;background-position: 5px 15px;padding-left: 44px;padding-top: 4px;"><a>Introduction</a><ul class='assignments hide'><li><a href='/docs/user-guides/eta-user-guide/introduction/what-is-eta'>What is Eta?</a></li></ul></li><li style="background: url('/images/installation.svg') no-repeat left top;background-size: 28px 28px;background-position: 5px 15px;padding-left: 44px;padding-top: 4px;"><a>Installation</a><ul class='assignments hide'><li><a href='/docs/user-guides/eta-user-guide/installation/methods'>Methods</a></li><li><a href='/docs/user-guides/eta-user-guide/installation/gradle'>Gradle</a></li><li><a href='/docs/user-guides/eta-user-guide/installation/etlas'>Etlas</a></li><li><a href='/docs/user-guides/eta-user-guide/installation/source'>Source</a></li><li><a href='/docs/user-guides/eta-user-guide/installation/docker'>Docker</a></li><li><a href='/docs/user-guides/eta-user-guide/installation/nix'>Nix</a></li><li><a href='/docs/user-guides/eta-user-guide/installation/sbt'>Sbt</a></li></ul></li><li style="background: url('/images/basics.svg') no-repeat left top;background-size: 28px 28px;background-position: 5px 15px;padding-left: 44px;padding-top: 4px;"><a>Basics</a><ul class='assignments hide'><li><a href='/docs/user-guides/eta-user-guide/basics/quick-start'>Quick Start</a></li><li><a href='/docs/user-guides/eta-user-guide/basics/basic-syntax'>Basic Syntax</a></li><li><a href='/docs/user-guides/eta-user-guide/basics/coding-conventions'>Coding Conventions</a></li></ul></li><li style="background: url('/images/interact.svg') no-repeat left top;background-size: 28px 28px;background-position: 5px 15px;padding-left: 44px;padding-top: 4px;"><a>Java Interop</a><ul class='assignments'><li><a href='/docs/user-guides/eta-user-guide/java-interop/java-interop-basics'>Basics</a></li><li><a href='/docs/user-guides/eta-user-guide/java-interop/jwts'>Java Wrapper Types</a></li><li><a href='/docs/user-guides/eta-user-guide/java-interop/java-ffi'>Java Foreign Imports</a></li><li><a href='/docs/user-guides/eta-user-guide/java-interop/arrays'>Java Arrays</a></li><li><a href='/docs/user-guides/eta-user-guide/java-interop/subclasses'>Java Subclasses</a></li><li><a href='/docs/user-guides/eta-user-guide/java-interop/java-advanced-ffi'>Java Advanced FFI</a></li><li><a href='/docs/user-guides/eta-user-guide/java-interop/java-dependencies'>Java Dependencies</a></li></ul></li><li style="background: url('/images/function.svg') no-repeat left top;background-size: 28px 28px;background-position: 5px 15px;padding-left: 44px;padding-top: 4px;"><a>Functions</a><ul class='assignments hide'><li><a href='/docs/user-guides/eta-user-guide/functions/overview'>Overview</a></li><li><a href='/docs/user-guides/eta-user-guide/functions/currying'>Currying</a></li><li><a href='/docs/user-guides/eta-user-guide/functions/composition'>Composition</a></li><li><a href='/docs/user-guides/eta-user-guide/functions/application'>Application</a></li><li><a href='/docs/user-guides/eta-user-guide/functions/higher-order-functions'>Higher-Order Functions</a></li></ul></li><li style="background: url('/images/concurrency.svg') no-repeat left top;background-size: 28px 28px;background-position: 5px 15px;padding-left: 44px;padding-top: 4px;"><a>Metaprogramming</a><ul class='assignments hide'><li><a href='/docs/user-guides/eta-user-guide/metaprogramming/overview'>Overview</a></li><li><a href='/docs/user-guides/eta-user-guide/metaprogramming/haskell-compatibility'>Haskell Compatibility</a></li></ul></li>
            </ul>
        </div>
        <div class='col-lg-9 col-sm-12 col-xs-12 content-wrapper bg--gray pl--50 pr--50 pl--xs--20 pr--xs--20'>
            <div class='box box--padding--top--20 mt--20 ml--xs--0 pl--xs--0' id='box-main'>
                <div class='row' id='header-box'>
                    <div class='col-lg-2 show-lg-only'>
                      <img src='/images/interact.svg' alt='Java Interop' class='header-image' />
                    </div>
                    <div class='col-lg-10 col-xs-12 col-sm-12'>
                        <div class='resource-bar__breadcrumb show-lg-only'>
                            <nav class='breadcrumb start-lg color--white'>
                                <ul class='start-lg mt--30 ml--20'>
                                  <li><a href='/docs/user-guides/eta-user-guide'>Eta User Guide</a></li><li><a href="">Java Interop</a></li>
                                </ul>
                            </nav>
                        </div>
                        <h3 class='heading--small mb--20 start-lg center-xs center-sm pl--20 pt--10 pt--sm--60' id='header-title'>Basics</h3>
                    </div>
                </div>
                <div class='row mr--20 ml--20' id='header-contents'>
                    <div class='col-lg-1'>
                    </div>
                    <div class='col-lg-11 col-sm-12 col-xs-12 center-xs start-lg center-sm'>
                        <h3 class='heading--medium color--purple mt--20 mb--20'>
                            Contents
                        </h3>
                        <ul class='header-contents-list bullet-list' list-style='1'>
                          <li><a href='#prerequisites'>Prerequisites</a></li><li><a href='#quick-start'>Quick Start</a></li><li><a href='#defining-a-java-wrapper-type'>Defining a Java Wrapper Type</a></li><li><a href='#working-with-java-converters'>Working with Java Converters</a></li><li><a href='#the-java-monad'>The Java Monad</a></li><li><a href='#java-foreign-import-declarations'>Java Foreign Import Declarations</a></li><li><a href='#exporting-eta-methods'>Exporting Eta Methods</a></li><li><a href='#next-section'>Next Section</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class='box box--padding--top--20 mt--20 mb--20' id='prerequisites'>
    <div class='row'>
        <div class='col-lg-12 col-sm-12 center-sm center-xs' style='text-align: left'>
            <h3 class='heading--medium mb--20 color--purple'>
              Prerequisites
              <a class='anchor-link' href='#prerequisites'></a>
            </h3>
            <p>You must have a basic understanding of sequenceables/monads to understand the rest of the section. Please check out the chapter on <span class='text--bold pb--20'>Sequenceable</span> in <a href='https://tour.eta-lang.org' target='_blank'>Tour of Eta</a> for better understanding.</p>
        </div>
    </div>
</div>
<div class='box box--padding--top--20 mt--20 mb--20' id='quick-start'>
    <div class='row'>
        <div class='col-lg-12 col-sm-12 center-sm center-xs' style='text-align: left'>
            <h3 class='heading--medium mb--20 color--purple'>
              Quick Start
              <a class='anchor-link' href='#quick-start'></a>
            </h3>
            <p>When interfacing with Java, you should import the <span class='inline-code'>Java</span> module from the standard library:</p><br /><table class='highlighttable'><tr><td class='linenos'><div class='linenodiv'><pre>1</pre></div></td><td class='code'><div class='highlight'><pre><span></span><span class='kr'>import</span> <span class='nn'>Java</span>
</pre></div>
</td></tr></table><br /><p>This will import the <span class='inline-code'>Java</span> monad and related helper functions for working inside the monad.</p><br /><p>Consider the following Java code:</p><br /><table class='highlighttable'><tr><td class='linenos'><div class='linenodiv'><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32</pre></div></td><td class='code'><div class='highlight'><pre><span></span><span class='kn'>package</span> <span class='nn'>eta.example</span><span class='o'>;</span>

<span class='kd'>public</span> <span class='kd'>class</span> <span class='nc'>Counter</span> <span class='o'>{</span>

  <span class='kd'>private</span> <span class='kt'>int</span> <span class='n'>counter</span><span class='o'>;</span>

  <span class='kd'>public</span> <span class='kt'>int</span> <span class='n'>publicCounter</span><span class='o'>;</span>

  <span class='kd'>public</span> <span class='kd'>static</span> <span class='kd'>final</span> <span class='kt'>int</span> <span class='n'>COUNTER_MAX</span> <span class='o'>=</span> <span class='mi'>1000</span><span class='o'>;</span>

  <span class='kd'>public</span> <span class='kd'>static</span> <span class='kt'>int</span> <span class='n'>numCounters</span><span class='o'>;</span>

  <span class='kd'>public</span> <span class='nf'>Counter</span><span class='o'>()</span> <span class='o'>{}</span>

  <span class='kd'>public</span> <span class='nf'>Counter</span><span class='o'>(</span><span class='kt'>int</span> <span class='n'>initial</span><span class='o'>)</span> <span class='o'>{</span>
    <span class='k'>this</span><span class='o'>.</span><span class='na'>counter</span> <span class='o'>=</span> <span class='n'>initial</span><span class='o'>;</span>
  <span class='o'>}</span>

  <span class='kd'>public</span> <span class='kt'>void</span> <span class='nf'>increment</span><span class='o'>()</span> <span class='o'>{</span>
    <span class='k'>this</span><span class='o'>.</span><span class='na'>counter</span> <span class='o'>=</span> <span class='n'>Math</span><span class='o'>.</span><span class='na'>min</span><span class='o'>(</span><span class='k'>this</span><span class='o'>.</span><span class='na'>counter</span> <span class='o'>+</span> <span class='mi'>1</span><span class='o'>,</span> <span class='n'>COUNTER_MAX</span><span class='o'>);</span>
    <span class='k'>this</span><span class='o'>.</span><span class='na'>publicCounter</span> <span class='o'>=</span> <span class='n'>counter</span><span class='o'>;</span>
  <span class='o'>}</span>

  <span class='kd'>public</span> <span class='kt'>int</span> <span class='nf'>get</span><span class='o'>()</span> <span class='o'>{</span>
    <span class='k'>return</span> <span class='n'>counter</span><span class='o'>;</span>
  <span class='o'>}</span>

  <span class='kd'>public</span> <span class='kt'>void</span> <span class='nf'>set</span><span class='o'>(</span><span class='kt'>int</span> <span class='n'>value</span><span class='o'>)</span> <span class='o'>{</span>
    <span class='k'>this</span><span class='o'>.</span><span class='na'>counter</span> <span class='o'>=</span> <span class='n'>Math</span><span class='o'>.</span><span class='na'>min</span><span class='o'>(</span><span class='n'>value</span><span class='o'>,</span> <span class='n'>COUNTER_MAX</span><span class='o'>);</span>
    <span class='k'>this</span><span class='o'>.</span><span class='na'>publicCounter</span> <span class='o'>=</span> <span class='n'>counter</span><span class='o'>;</span>
  <span class='o'>}</span>
<span class='o'>}</span>
</pre></div>
</td></tr></table><br /><p>A Java method is simply a function that takes an object as an implicit argument bound to the <span class='inline-code'>this</span> variable. Implicit contexts such as these can be represented as a monad, a state monad to be specific. A state monad threads state through each monadic action so the state is being passed around internally even though it’s not visible in the code.</p><br /><p>This correspondence is the basis for the built-in <span class='inline-code'>Java</span> monad in Eta.</p><br /><p>The above example can be imported as follows:</p><br /><table class='highlighttable'><tr><td class='linenos'><div class='linenodiv'><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class='code'><div class='highlight'><pre><span></span><span class='kr'>data</span> <span class='kt'>Counter</span> <span class='ow'>=</span> <span class='kt'>Counter</span> <span class='o'>@</span><span class='n'>eta</span><span class='o'>.</span><span class='n'>example</span><span class='o'>.</span><span class='kt'>Counter</span>
  <span class='kr'>deriving</span> <span class='kt'>Class</span>

<span class='kr'>foreign import java unsafe</span> <span class='s'>"@new"</span> <span class='n'>newCounter</span> <span class='ow'>::</span> <span class='kt'>Java</span> <span class='n'>a</span> <span class='kt'>Counter</span>
<span class='kr'>foreign import java unsafe</span> <span class='s'>"@new"</span> <span class='n'>newCounterWith</span> <span class='ow'>::</span> <span class='kt'>Int</span> <span class='ow'>-&gt;</span> <span class='kt'>Java</span> <span class='n'>a</span> <span class='kt'>Counter</span>
<span class='kr'>foreign import java unsafe</span> <span class='n'>increment</span> <span class='ow'>::</span> <span class='kt'>Java</span> <span class='kt'>Counter</span> <span class='nb'>()</span>
<span class='kr'>foreign import java unsafe</span> <span class='n'>get</span> <span class='ow'>::</span> <span class='kt'>Java</span> <span class='kt'>Counter</span> <span class='kt'>Int</span>
<span class='kr'>foreign import java unsafe</span> <span class='n'>set</span> <span class='ow'>::</span> <span class='kt'>Int</span> <span class='ow'>-&gt;</span> <span class='kt'>Java</span> <span class='kt'>Counter</span> <span class='nb'>()</span>
<span class='kr'>foreign import java unsafe</span> <span class='s'>"@static @field eta.example.Counter.COUNTER_MAX"</span>
  <span class='n'>cOUNTER_MAX</span> <span class='ow'>::</span> <span class='kt'>Java</span> <span class='n'>a</span> <span class='kt'>Int</span>
<span class='kr'>foreign import java unsafe</span> <span class='s'>"@field publicCounter"</span> <span class='n'>getPublicCounter</span>
  <span class='ow'>::</span> <span class='kt'>Java</span> <span class='kt'>Counter</span> <span class='kt'>Int</span>
<span class='kr'>foreign import java unsafe</span> <span class='s'>"@field publicCounter"</span> <span class='n'>setPublicCounter</span>
  <span class='ow'>::</span> <span class='kt'>Int</span> <span class='ow'>-&gt;</span> <span class='kt'>Java</span> <span class='kt'>Counter</span> <span class='nb'>()</span>
<span class='kr'>foreign import java unsafe</span> <span class='s'>"@static @field numCounters"</span> <span class='n'>getNumCounters</span>
  <span class='ow'>::</span> <span class='kt'>Java</span> <span class='n'>a</span> <span class='kt'>Int</span>
<span class='kr'>foreign import java unsafe</span> <span class='s'>"@static @field numCounters"</span> <span class='n'>setNumCounters</span>
  <span class='ow'>::</span> <span class='kt'>Int</span> <span class='ow'>-&gt;</span> <span class='kt'>Java</span> <span class='n'>a</span> <span class='nb'>()</span>
</pre></div>
</td></tr></table>
        </div>
    </div>
</div>
<div class='box box--padding--top--20 mt--20 mb--20' id='defining-a-java-wrapper-type'>
    <div class='row'>
        <div class='col-lg-12 col-sm-12 center-sm center-xs' style='text-align: left'>
            <h3 class='heading--medium mb--20 color--purple'>
              Defining a Java Wrapper Type
              <a class='anchor-link' href='#defining-a-java-wrapper-type'></a>
            </h3>
            <p>When working with the FFI, you need a way to refer to a given Java class inside of Eta. This is done through Java Wrapper Types (JWTs).</p><br /><h3 class='heading--small mb--20'>General Syntax</h3><table class='highlighttable'><tr><td class='linenos'><div class='linenodiv'><pre>1
2</pre></div></td><td class='code'><div class='highlight'><pre><span></span><span class='kr'>data</span> <span class='kt'>X</span> <span class='ow'>=</span> <span class='kt'>X</span> <span class='o'>@</span><span class='p'>[</span><span class='kr'>class</span><span class='o'>-</span><span class='n'>name</span><span class='p'>]</span>
  <span class='kr'>deriving</span> <span class='kt'>Class</span>
</pre></div>
</td></tr></table><br /><ul class='bullet-list pl--20 pb--20'><li><p><span class='inline-code'>[class-name]</span> should be the fully qualified Java class name and <span class='inline-code'>X</span> should be the Eta name you would use to refer to the corresponding Java class in foreign imports. Note that <span class='inline-code'>[class-name]</span> can also be converted to an array type by appending <span class='inline-code'>[]</span>.</p><br /></li><li><p>The <span class='inline-code'>Class</span> typeclass is a built-in typeclass that is a marker for a JWT. <span class='text--bold pb--20'>Make sure all your JWTs derive a Class instance</span>.</p><br /></li></ul>
        </div>
    </div>
</div>
<div class='box box--padding--top--20 mt--20 mb--20' id='working-with-java-converters'>
    <div class='row'>
        <div class='col-lg-12 col-sm-12 center-sm center-xs' style='text-align: left'>
            <h3 class='heading--medium mb--20 color--purple'>
              Working with Java Converters
              <a class='anchor-link' href='#working-with-java-converters'></a>
            </h3>
            <p>In Eta, there is a clear distinction JWTs and normal Eta types. Moreover, only JWTs can be used in foreign imports/exports.</p><br /><h3 class='heading--small mb--20'>The JavaConverter typeclass</h3><p>JWTs are inconvenient to use directly in Eta because they are just wrappers of native Java objects. So, the following typeclass is defined in the standard library to help convert JWTs to common Eta types like lists.</p><br /><table class='highlighttable'><tr><td class='linenos'><div class='linenodiv'><pre>1
2
3
4
5</pre></div></td><td class='code'><div class='highlight'><pre><span></span><span class='c1'>-- The `a` type variable should be a normal Eta type</span>
<span class='c1'>-- The `b` type variable should be a JWT or a primitive type (Byte, Short, Int, ...)</span>
<span class='kr'>class</span> <span class='kt'>JavaConverter</span> <span class='n'>a</span> <span class='n'>b</span> <span class='kr'>where</span>
  <span class='n'>toJava</span>   <span class='ow'>::</span> <span class='n'>a</span> <span class='ow'>-&gt;</span> <span class='n'>b</span>
  <span class='n'>fromJava</span> <span class='ow'>::</span> <span class='n'>b</span> <span class='ow'>-&gt;</span> <span class='n'>a</span>
</pre></div>
</td></tr></table><br /><p>Many instances are provided for you by default so you can simply use toJava or fromJava whenever you want to perform a conversion.</p><br /><h3 class='heading--small mb--20'>Note :</h3><p><span class='inline-code'>String</span> is a notable exception to that rule because it’s so commonly used that there’s a special case that allows it an automatically converts it to <span class='inline-code'>JString</span>.</p>
        </div>
    </div>
</div>
<div class='box box--padding--top--20 mt--20 mb--20' id='the-java-monad'>
    <div class='row'>
        <div class='col-lg-12 col-sm-12 center-sm center-xs' style='text-align: left'>
            <h3 class='heading--medium mb--20 color--purple'>
              The Java Monad
              <a class='anchor-link' href='#the-java-monad'></a>
            </h3>
            <p>As mentioned before, the <span class='inline-code'>Java</span> monad is used to contain the implicit <span class='inline-code'>this</span> context. It can be effectively thought of as a state monad with a given Java object as the state.</p><br /><table class='highlighttable'><tr><td class='linenos'><div class='linenodiv'><pre>1</pre></div></td><td class='code'><div class='highlight'><pre><span></span><span class='kr'>newtype</span> <span class='kt'>Java</span> <span class='n'>c</span> <span class='n'>a</span> <span class='ow'>=</span> <span class='kt'>Java</span> <span class='cm'>{- Internal definition -}</span>
</pre></div>
</td></tr></table><br /><p>As can be seen from the above definition, the <span class='inline-code'>Java</span> monad has two type parameters <span class='inline-code'>c</span> and <span class='inline-code'>a</span>. The <span class='inline-code'>c</span> parameter is the type of the implicit <span class='inline-code'>this</span> context, and should be some JWT, and the <span class='inline-code'>a</span> parameter is the return type of the monad.</p><br /><h3 class='heading--small mb--20'>Working with the Java Monad</h3><p>In the <a href='https://github.com/typelead/eta/blob/master/libraries/base/Java/Core.hs#L37' target='_blank'>Java</a> module in the base package, the following functions are available:</p><br /><table class='highlighttable'><tr><td class='linenos'><div class='linenodiv'><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class='code'><div class='highlight'><pre><span></span><span class='c1'>-- Execute a Java action in the IO monad.</span>
<span class='nf'>java</span> <span class='ow'>::</span> <span class='kt'>Java</span> <span class='n'>c</span> <span class='n'>a</span> <span class='ow'>-&gt;</span> <span class='kt'>IO</span> <span class='n'>a</span>
<span class='c1'>-- Execute a Java action in the IO monad with respect to the</span>
<span class='c1'>-- given object.</span>
<span class='nf'>javaWith</span> <span class='ow'>::</span> <span class='p'>(</span><span class='kt'>Class</span> <span class='n'>c</span><span class='p'>)</span> <span class='ow'>=&gt;</span> <span class='n'>c</span> <span class='ow'>-&gt;</span> <span class='kt'>Java</span> <span class='n'>c</span> <span class='n'>a</span> <span class='ow'>-&gt;</span> <span class='kt'>IO</span> <span class='n'>a</span>
<span class='c1'>-- Execute a Java action in the Java monad of another class</span>
<span class='c1'>-- with respect to the given object.</span>
<span class='p'>(</span><span class='o'>&lt;.&gt;</span><span class='p'>)</span> <span class='ow'>::</span> <span class='p'>(</span><span class='kt'>Class</span> <span class='n'>c</span><span class='p'>)</span> <span class='ow'>=&gt;</span> <span class='n'>c</span> <span class='ow'>-&gt;</span> <span class='kt'>Java</span> <span class='n'>c</span> <span class='n'>a</span> <span class='ow'>-&gt;</span> <span class='kt'>Java</span> <span class='n'>b</span> <span class='n'>a</span>
<span class='nf'>withObject</span> <span class='ow'>::</span> <span class='p'>(</span><span class='kt'>Class</span> <span class='n'>c</span><span class='p'>)</span> <span class='ow'>=&gt;</span> <span class='n'>c</span> <span class='ow'>-&gt;</span> <span class='kt'>Java</span> <span class='n'>c</span> <span class='n'>a</span> <span class='ow'>-&gt;</span> <span class='kt'>Java</span> <span class='n'>b</span> <span class='n'>a</span>
<span class='c1'>-- Chain Java actions.</span>
<span class='p'>(</span><span class='o'>&gt;-</span><span class='p'>)</span> <span class='ow'>::</span> <span class='p'>(</span><span class='kt'>Class</span> <span class='n'>b</span><span class='p'>)</span> <span class='ow'>=&gt;</span> <span class='kt'>Java</span> <span class='n'>a</span> <span class='n'>b</span> <span class='ow'>-&gt;</span> <span class='kt'>Java</span> <span class='n'>b</span> <span class='n'>c</span> <span class='ow'>-&gt;</span> <span class='kt'>Java</span> <span class='n'>a</span> <span class='n'>c</span>
<span class='c1'>-- Execute an IO action inside of the Java monad</span>
<span class='nf'>io</span> <span class='ow'>::</span> <span class='kt'>IO</span> <span class='n'>a</span> <span class='ow'>-&gt;</span> <span class='kt'>Java</span> <span class='n'>c</span> <span class='n'>a</span>
<span class='c1'>-- Execute a Java action purely, i.e. order of execution does not matter.</span>
<span class='nf'>unsafePerformJava</span> <span class='ow'>::</span> <span class='kt'>Java</span> <span class='n'>c</span> <span class='n'>a</span> <span class='ow'>-&gt;</span> <span class='n'>a</span>
<span class='c1'>-- Analagous to `javaWith`, but pure.</span>
<span class='nf'>unsafePerformJavaWith</span> <span class='ow'>::</span> <span class='p'>(</span><span class='kt'>Class</span> <span class='n'>c</span><span class='p'>)</span> <span class='ow'>=&gt;</span> <span class='n'>c</span> <span class='ow'>-&gt;</span> <span class='kt'>Java</span> <span class='n'>c</span> <span class='n'>a</span> <span class='ow'>-&gt;</span> <span class='n'>a</span>
</pre></div>
</td></tr></table><br /><p>For instance, if the following functions are available:</p><br /><table class='highlighttable'><tr><td class='linenos'><div class='linenodiv'><pre>1
2</pre></div></td><td class='code'><div class='highlight'><pre><span></span><span class='nf'>newFile</span>  <span class='ow'>::</span> <span class='kt'>String</span> <span class='ow'>-&gt;</span> <span class='kt'>Java</span> <span class='n'>a</span> <span class='kt'>File</span>
<span class='nf'>canExecute</span> <span class='ow'>::</span> <span class='kt'>Java</span> <span class='kt'>File</span> <span class='kt'>Bool</span>
</pre></div>
</td></tr></table><br /><p>Then it is possible to write the following program:</p><br /><table class='highlighttable'><tr><td class='linenos'><div class='linenodiv'><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class='code'><div class='highlight'><pre><span></span><span class='nf'>main</span> <span class='ow'>::</span> <span class='kt'>IO</span> <span class='nb'>()</span>
<span class='nf'>main</span> <span class='ow'>=</span> <span class='kr'>do</span>
  <span class='n'>executes</span> <span class='ow'>&lt;-</span> <span class='n'>java</span> <span class='o'>$</span> <span class='kr'>do</span>
    <span class='n'>file</span> <span class='ow'>&lt;-</span> <span class='n'>newFile</span> <span class='s'>"./dir/prog.exe"</span>
    <span class='n'>io</span> <span class='o'>$</span> <span class='n'>putStrLn</span> <span class='s'>"Executing an IO action inside of Java!"</span>
    <span class='n'>file</span> <span class='o'>&lt;.&gt;</span> <span class='n'>canExecute</span>
  <span class='kr'>if</span> <span class='n'>executes</span>
  <span class='kr'>then</span> <span class='n'>putStrLn</span> <span class='s'>"File can execute!"</span>
  <span class='kr'>else</span> <span class='n'>putStrLn</span> <span class='s'>"File cannot execute!"</span>
</pre></div>
</td></tr></table><br /><p>Using different combinators, we can write it like this:</p><br /><table class='highlighttable'><tr><td class='linenos'><div class='linenodiv'><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class='code'><div class='highlight'><pre><span></span><span class='nf'>main</span> <span class='ow'>::</span> <span class='kt'>IO</span> <span class='nb'>()</span>
<span class='nf'>main</span> <span class='ow'>=</span> <span class='kr'>do</span>
  <span class='c1'>-- Similar to Java code:</span>
  <span class='c1'>-- File file = new File("./dir/prog.exe");</span>
  <span class='n'>file</span> <span class='ow'>&lt;-</span> <span class='n'>java</span> <span class='o'>$</span> <span class='n'>newFile</span> <span class='s'>"./dir/prog.exe"</span>
  <span class='n'>putStrLn</span> <span class='s'>"Executing an IO action inside of Java!"</span>
  <span class='c1'>-- Similar to Java code:</span>
  <span class='c1'>-- boolean executes = file.canExecute();</span>
  <span class='n'>executes</span> <span class='ow'>&lt;-</span> <span class='n'>javaWith</span> <span class='n'>file</span> <span class='n'>canExecute</span>
  <span class='kr'>if</span> <span class='n'>executes</span>
  <span class='kr'>then</span> <span class='n'>putStrLn</span> <span class='s'>"File can execute!"</span>
  <span class='kr'>else</span> <span class='n'>putStrLn</span> <span class='s'>"File cannot execute!"</span>
</pre></div>
</td></tr></table><br /><p>Or:</p><br /><table class='highlighttable'><tr><td class='linenos'><div class='linenodiv'><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class='code'><div class='highlight'><pre><span></span><span class='nf'>main</span> <span class='ow'>::</span> <span class='kt'>IO</span> <span class='nb'>()</span>
<span class='nf'>main</span> <span class='ow'>=</span> <span class='n'>java</span> <span class='o'>$</span> <span class='kr'>do</span>
  <span class='c1'>-- Similar to Java code:</span>
  <span class='c1'>-- boolean executes = new File("./dir/prog.exe").canExecute();</span>
  <span class='n'>executes</span> <span class='ow'>&lt;-</span> <span class='n'>newFile</span> <span class='s'>"./dir/prog.exe"</span> <span class='o'>&gt;-</span> <span class='n'>canExecute</span>
  <span class='n'>io</span> <span class='o'>$</span> <span class='n'>putStrLn</span> <span class='s'>"Executing an IO action inside of Java!"</span>
  <span class='kr'>if</span> <span class='n'>executes</span>
  <span class='kr'>then</span> <span class='n'>io</span> <span class='o'>$</span> <span class='n'>putStrLn</span> <span class='s'>"File can execute!"</span>
  <span class='kr'>else</span> <span class='n'>io</span> <span class='o'>$</span> <span class='n'>putStrLn</span> <span class='s'>"File cannot execute!"</span>
</pre></div>
</td></tr></table>
        </div>
    </div>
</div>
<div class='box box--padding--top--20 mt--20 mb--20' id='java-foreign-import-declarations'>
    <div class='row'>
        <div class='col-lg-12 col-sm-12 center-sm center-xs' style='text-align: left'>
            <h3 class='heading--medium mb--20 color--purple'>
              Java Foreign Import Declarations
              <a class='anchor-link' href='#java-foreign-import-declarations'></a>
            </h3>
            <p>Foreign import declarations are used to import a Java method as an Eta monadic action, typically in the Java monad.</p><br /><h3 class='heading--small mb--20'>Simplified Syntax</h3><p>The full syntax of the <span class='inline-code'>foreign import</span> declaration is quite complex, but only a subset is needed here:</p><br /><table class='highlighttable'><tr><td class='linenos'><div class='linenodiv'><pre>1
2</pre></div></td><td class='code'><div class='highlight'><pre><span></span><span class='kr'>foreign import java unsafe</span> <span class='s'>"[import-string]"</span> <span class='p'>[</span><span class='n'>eta</span><span class='o'>-</span><span class='n'>identifier</span><span class='p'>]</span>
  <span class='ow'>::</span> <span class='p'>[</span><span class='n'>arg</span><span class='o'>-</span><span class='kr'>type</span><span class='o'>-</span><span class='mi'>1</span><span class='p'>]</span> <span class='ow'>-&gt;</span> <span class='p'>[</span><span class='n'>arg</span><span class='o'>-</span><span class='kr'>type</span><span class='o'>-</span><span class='mi'>2</span><span class='p'>]</span> <span class='ow'>-&gt;</span> <span class='o'>..</span> <span class='ow'>-&gt;</span> <span class='p'>[</span><span class='n'>return</span><span class='o'>-</span><span class='kr'>type</span><span class='p'>]</span>
</pre></div>
</td></tr></table><br /><ol class='bullet-list pl--20 pb--20'><li><span class='inline-code'>[import-string]</span> can take the following forms:<ul class='bullet-list pl--20 pb--20'><li><span class='inline-code'>[java-method-name]</span>: Binds to an instance method. <span class='inline-code'>[java-method-name]</span> should be an unqualified Java instance method name.</li><li><span class='inline-code'>@static [java-method-name]</span>: Binds to a static method. <span class='inline-code'>[java-method-name]</span> should be a fully qualified Java static method name.</li><li><span class='inline-code'>@new</span>: Binds to a constructor. The class to construct will be determined by the return type of the declaration.</li><li><span class='inline-code'>@field [java-field-name]</span>: Binds to a getter or setter of an instance field, determined by the type signature. <span class='inline-code'>[java-field-name]</span> should be an unqualified Java instance field name.</li><li><span class='inline-code'>@static @field [java-field-name]</span>: Binds to a getter or setter of a field, determined by the type signature. <span class='inline-code'>[java-field-name]</span> should be a fully qualified Java static field name.</li></ul></li><li><p><span class='inline-code'>[eta-identifier]</span> should be a valid Eta identifier that will be used for calling the corresponding Java method inside of Eta code.</p><br /></li><li><p><span class='inline-code'>[argTypeN]</span> should be a marshallable Eta type. See <a href='/docs/user-guides/eta-user-guide/java-interop/jwts#marshalling-between-java-and-eta-types' target='_blank'>Marshalling Between Java and Eta Types</a>.</p><br /></li><li><span class='inline-code'>[returnType]</span> can be of three forms:<ul class='bullet-list pl--20 pb--20'><li><span class='inline-code'>Java [jwt] [return-type]</span>: This is the form that is used typically and is always safe to use. <span class='inline-code'>[jwt]</span> should be the JWT for the class which the declaration pertains. If the declaration has a <span class='inline-code'>@static</span> annotation, this can be left free with a type variable instead of a concrete type. <span class='inline-code'>[return-type]</span> should be a marshallable Eta type.</li><li><span class='inline-code'>IO [return-type]</span>: This form is also safe and can be used for convenience. Note that if the import string does not have a <span class='inline-code'>@static</span> annotation, you must supply the relevant JWT as the first argument (<span class='inline-code'>[argType1]</span>). <span class='inline-code'>[return-type]</span> should be a marshallable Eta type.</li><li><span class='inline-code'>[return-type]</span>: This form has no monadic context and should only be used for immutable Java objects whose methods do not perform any side effects. Note that if the declaration does not have a <span class='inline-code'>@static</span> annotation, you must supply the relevant JWT as the first argument (<span class='inline-code'>[argType1]</span>). <span class='inline-code'>[return-type]</span> should be a marshallable Eta type.</li></ul></li></ol><p>For the full syntax, see <a href='/docs/user-guides/eta-user-guide/java-interop/java-ffi#general-syntax' target='_blank'>General Syntax</a>.</p>
        </div>
    </div>
</div>
<div class='box box--padding--top--20 mt--20 mb--20' id='exporting-eta-methods'>
    <div class='row'>
        <div class='col-lg-12 col-sm-12 center-sm center-xs' style='text-align: left'>
            <h3 class='heading--medium mb--20 color--purple'>
              Exporting Eta Methods
              <a class='anchor-link' href='#exporting-eta-methods'></a>
            </h3>
            <p>Just as you can import Java methods into Eta, you can also export Eta functions into Java.</p><br /><h3 class='heading--small mb--20'>General Syntax</h3><table class='highlighttable'><tr><td class='linenos'><div class='linenodiv'><pre>1
2</pre></div></td><td class='code'><div class='highlight'><pre><span></span><span class='nf'>foreign</span> <span class='n'>export</span> <span class='n'>java</span> <span class='s'>"[export-string]"</span> <span class='p'>[</span><span class='n'>eta</span><span class='o'>-</span><span class='n'>identifier</span><span class='p'>]</span>
  <span class='ow'>::</span> <span class='p'>[</span><span class='n'>arg</span><span class='o'>-</span><span class='kr'>type</span><span class='o'>-</span><span class='mi'>1</span><span class='p'>]</span> <span class='ow'>-&gt;</span> <span class='p'>[</span><span class='n'>arg</span><span class='o'>-</span><span class='kr'>type</span><span class='o'>-</span><span class='mi'>2</span><span class='p'>]</span> <span class='ow'>-&gt;</span> <span class='o'>..</span> <span class='ow'>-&gt;</span> <span class='p'>[</span><span class='n'>return</span><span class='o'>-</span><span class='kr'>type</span><span class='p'>]</span>
</pre></div>
</td></tr></table><br /><ol class='bullet-list pl--20 pb--20'><li><span class='inline-code'>[export-string]</span> can take the following forms:<ul class='bullet-list pl--20 pb--20'><li><span class='inline-code'>[java-method-name]</span>: Binds to an instance method. <span class='inline-code'>[java-method-name]</span> should be an unqualified Java instance method name. If not informed the instance method name will be equal to <span class='inline-code'>[eta-identifier]</span>.</li><li><span class='inline-code'>@static [java-method-name]</span>: Binds to a static method. <span class='inline-code'>[java-method-name]</span> should be a fully qualified Java static method name (e.g. <span class='inline-code'>"@static com.org.SomeClass.someMethodName"</span>).</li></ul></li><li><p><span class='inline-code'>[eta-identifier]</span> should be a valid Eta identifier for an existing Eta function that is the target of the export.</p><br /></li><li><p><span class='inline-code'>[arg-type-n]</span> should be a marshallable Eta type.</p><br /></li><li><span class='inline-code'>[returnType]</span> can be of three forms:<ul class='bullet-list pl--20 pb--20'><li><span class='inline-code'>Java [export-jwt] [return-type]</span>: This is the form that should be used if you want to export an instance method, although it can be used for a static method too.<ul class='bullet-list pl--20 pb--20'><li><span class='inline-code'>[export-jwt]</span> should be the JWT that refers to the class name of the exported class. If (and only if) the declaration has a <span class='inline-code'>@static</span> annotation, this can be left free with a type variable instead of a concrete type. Also, the JWT <i>must not</i> be an imported JWT but a new one defined in eta. The export will create a new class with an instance method. The typical use case is to define a new JWT class that inherits from an existing java abstract class, implementing the abstract method or methods with one or more exports. However you could use a non abstract class too.</li><li><span class='inline-code'>[return-type]</span> should be a marshallable Eta type.</li></ul></li><li><span class='inline-code'>IO [return-type]</span> or simply <span class='inline-code'>[return-type]</span>: These forms can be used for convenience. Note that if you use any of them the export string <i>must</i> have a <span class='inline-code'>@static [java-method-name]</span> annotation.<ul class='bullet-list pl--20 pb--20'><li><span class='inline-code'>[return-type]</span> should be a marshallable Eta type.</li></ul></li></ul></li></ol><h3 class='heading--small mb--20'>Examples</h3><ul class='bullet-list pl--20 pb--20'><li><p>Exporting static methods:</p><br /></li></ul><table class='highlighttable'><tr><td class='linenos'><div class='linenodiv'><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class='code'><div class='highlight'><pre><span></span><span class='nf'>foreign</span> <span class='n'>export</span> <span class='n'>java</span> <span class='s'>"@static eta.example.MyClass.sayHello"</span> <span class='n'>sayHelloEta</span> <span class='ow'>::</span> <span class='kt'>IO</span> <span class='nb'>()</span>
<span class='nf'>sayHelloEta</span> <span class='ow'>=</span> <span class='n'>putStrLn</span> <span class='s'>"Hi"</span>

<span class='nf'>foreign</span> <span class='n'>export</span> <span class='n'>java</span> <span class='s'>"@static eta.example.Numbers.zero"</span> <span class='n'>zero</span> <span class='ow'>::</span> <span class='kt'>IO</span> <span class='kt'>Int</span>
<span class='nf'>zero</span> <span class='ow'>=</span> <span class='kr'>do</span>
 <span class='n'>putStrLn</span> <span class='s'>"Returning zero from eta"</span>
 <span class='n'>return</span> <span class='mi'>0</span>

<span class='nf'>foreign</span> <span class='n'>export</span> <span class='n'>java</span> <span class='s'>"@static eta.example.Numbers.one"</span> <span class='n'>one</span> <span class='ow'>::</span> <span class='kt'>Int</span>
<span class='nf'>one</span> <span class='ow'>=</span> <span class='mi'>1</span>

<span class='nf'>foreign</span> <span class='n'>export</span> <span class='n'>java</span> <span class='s'>"@static eta.example.Numbers.addTwo"</span> <span class='n'>addTwo</span> <span class='ow'>::</span> <span class='kt'>Int</span> <span class='ow'>-&gt;</span> <span class='kt'>Java</span> <span class='n'>a</span> <span class='kt'>Int</span>
<span class='nf'>addTwo</span> <span class='n'>x</span> <span class='ow'>=</span> <span class='n'>return</span> <span class='o'>$</span> <span class='n'>x</span> <span class='o'>+</span> <span class='mi'>2</span>
</pre></div>
</td></tr></table><br /><ul class='bullet-list pl--20 pb--20'><li><p>Exporting an instance method for a new class that inherits from an existing one. Given an existing class <span class='inline-code'>eta.example.Counter</span> like the defined above we can create another class in eta that inherits from it, adding one or more methods that can use the definitions of the superclass:</p><br /></li></ul><table class='highlighttable'><tr><td class='linenos'><div class='linenodiv'><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29</pre></div></td><td class='code'><div class='highlight'><pre><span></span><span class='c1'>-- Importing an existing class</span>
<span class='kr'>data</span> <span class='kt'>JavaCounter</span> <span class='ow'>=</span> <span class='kt'>JavaCounter</span> <span class='o'>@</span><span class='n'>eta</span><span class='o'>.</span><span class='n'>example</span><span class='o'>.</span><span class='kt'>Counter</span>
   <span class='kr'>deriving</span> <span class='kt'>Class</span>

<span class='c1'>-- eta.example.EtaCounter will be generated by eta</span>
<span class='kr'>data</span> <span class='kt'>EtaCounter</span> <span class='ow'>=</span> <span class='kt'>EtaCounter</span> <span class='o'>@</span><span class='n'>eta</span><span class='o'>.</span><span class='n'>example</span><span class='o'>.</span><span class='kt'>EtaCounter</span>
   <span class='kr'>deriving</span> <span class='kt'>Class</span>

<span class='c1'>-- Required to make EtaCounter a subclass of JavaCounter</span>
<span class='kr'>type</span> <span class='kr'>instance</span> <span class='kt'>Inherits</span> <span class='kt'>EtaCounter</span> <span class='ow'>=</span> <span class='p'>'[</span><span class='kt'>JavaCounter</span><span class='p'>]</span>

<span class='c1'>-- Importing methods from JavaCounter with ( c &lt;: JavaCounter ) constraint</span>
<span class='c1'>-- to make it works for its subclasses (including EtaCounter)</span>
<span class='c1'>-- see: https://eta-lang.org/docs/user-guides/eta-user-guide/java-interop/arrays-subclasses#problem-resolution</span>
<span class='kr'>foreign import java unsafe</span> <span class='n'>get</span> <span class='ow'>::</span> <span class='p'>(</span> <span class='n'>c</span> <span class='o'>&lt;:</span> <span class='kt'>JavaCounter</span> <span class='p'>)</span>
                               <span class='ow'>=&gt;</span> <span class='kt'>Java</span> <span class='n'>c</span> <span class='kt'>Int</span>

<span class='kr'>foreign import java unsafe</span> <span class='n'>set</span> <span class='ow'>::</span> <span class='p'>(</span> <span class='n'>c</span> <span class='o'>&lt;:</span> <span class='kt'>JavaCounter</span> <span class='p'>)</span>
                               <span class='ow'>=&gt;</span> <span class='kt'>Int</span> <span class='ow'>-&gt;</span> <span class='kt'>Java</span> <span class='n'>c</span> <span class='nb'>()</span>

<span class='c1'>-- implement an eta function that uses methods and state from the superclass</span>
<span class='nf'>decrement</span> <span class='ow'>::</span> <span class='kt'>Int</span> <span class='ow'>-&gt;</span> <span class='kt'>Java</span> <span class='kt'>EtaCounter</span> <span class='kt'>Int</span>
<span class='nf'>decrement</span> <span class='n'>x</span> <span class='ow'>=</span> <span class='kr'>do</span>
  <span class='n'>c</span> <span class='ow'>&lt;-</span> <span class='n'>get</span>
  <span class='kr'>let</span> <span class='n'>c'</span> <span class='ow'>=</span> <span class='n'>max</span> <span class='p'>(</span><span class='n'>c</span> <span class='o'>-</span> <span class='n'>x</span><span class='p'>)</span> <span class='mi'>0</span>
  <span class='n'>set</span> <span class='n'>c'</span>
  <span class='n'>return</span> <span class='n'>c'</span>

<span class='nf'>foreign</span> <span class='n'>export</span> <span class='n'>java</span> <span class='n'>decrement</span> <span class='ow'>::</span> <span class='kt'>Int</span> <span class='ow'>-&gt;</span> <span class='kt'>Java</span> <span class='kt'>EtaCounter</span> <span class='kt'>Int</span>
</pre></div>
</td></tr></table><br /><ul class='bullet-list pl--20 pb--20'><li><p>Use of exported methods from the java side:</p><br /></li></ul><table class='highlighttable'><tr><td class='linenos'><div class='linenodiv'><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class='code'><div class='highlight'><pre><span></span><span class='c1'>// static methods</span>
<span class='n'>eta</span><span class='o'>.</span><span class='na'>example</span><span class='o'>.</span><span class='na'>MyClass</span><span class='o'>.</span><span class='na'>sayHello</span><span class='o'>();</span>
<span class='n'>System</span><span class='o'>.</span><span class='na'>out</span><span class='o'>.</span><span class='na'>println</span><span class='o'>(</span><span class='s'>"Zero: "</span> <span class='o'>+</span> <span class='n'>eta</span><span class='o'>.</span><span class='na'>example</span><span class='o'>.</span><span class='na'>Numbers</span><span class='o'>.</span><span class='na'>zero</span><span class='o'>());</span>
<span class='n'>System</span><span class='o'>.</span><span class='na'>out</span><span class='o'>.</span><span class='na'>println</span><span class='o'>(</span><span class='s'>"One: "</span> <span class='o'>+</span> <span class='n'>eta</span><span class='o'>.</span><span class='na'>example</span><span class='o'>.</span><span class='na'>Numbers</span><span class='o'>.</span><span class='na'>one</span><span class='o'>());</span>
<span class='n'>System</span><span class='o'>.</span><span class='na'>out</span><span class='o'>.</span><span class='na'>println</span><span class='o'>(</span><span class='s'>"Two: "</span> <span class='o'>+</span> <span class='n'>eta</span><span class='o'>.</span><span class='na'>example</span><span class='o'>.</span><span class='na'>Numbers</span><span class='o'>.</span><span class='na'>addTwo</span><span class='o'>(</span><span class='mi'>0</span><span class='o'>));</span>

<span class='c1'>// instance method</span>
<span class='n'>eta</span><span class='o'>.</span><span class='na'>example</span><span class='o'>.</span><span class='na'>EtaCounter</span> <span class='n'>d</span> <span class='o'>=</span> <span class='k'>new</span> <span class='n'>eta</span><span class='o'>.</span><span class='na'>example</span><span class='o'>.</span><span class='na'>EtaCounter</span><span class='o'>();</span>
<span class='n'>d</span><span class='o'>.</span><span class='na'>set</span><span class='o'>(</span><span class='mi'>10</span><span class='o'>);</span>
<span class='n'>System</span><span class='o'>.</span><span class='na'>out</span><span class='o'>.</span><span class='na'>println</span><span class='o'>(</span><span class='n'>d</span><span class='o'>.</span><span class='na'>decrement</span><span class='o'>(</span><span class='mi'>5</span><span class='o'>));</span>
<span class='n'>System</span><span class='o'>.</span><span class='na'>out</span><span class='o'>.</span><span class='na'>println</span><span class='o'>(</span><span class='n'>d</span><span class='o'>.</span><span class='na'>get</span><span class='o'>());</span>
</pre></div>
</td></tr></table>
        </div>
    </div>
</div>
<div class='box box--padding--top--20 mt--20 mb--20' id='next-section'>
    <div class='row'>
        <div class='col-lg-12 col-sm-12 center-sm center-xs' style='text-align: left'>
            <h3 class='heading--medium mb--20 color--purple'>
              Next Section
              <a class='anchor-link' href='#next-section'></a>
            </h3>
            <p>We will now proceed with Java Wrapper Types in detail.</p>
        </div>
    </div>
</div>

            <div class='row mr--20 ml--20 pt--40 pb--60'>
              <div class='col-md-4 start-md'>
                <a href='/docs/user-guides/eta-user-guide/basics/coding-conventions' class='button--purple'>Previous</a>
              </div>
              <div class='col-md-4 center-md show-lg-only'>
                <a class='button--purple ' href='#'>Read again</a>
              </div>
              <div class='col-md-4 center-md show-xs-only'>

              </div>
              <div class='col-md-4 end-md end-sm'>
                <a href='/docs/user-guides/eta-user-guide/java-interop/jwts' class='button--purple'>Next</a>
              </div>
            </div>
          </div>

    </div>

    <script type='text/javascript'>
        function switchImage(index) {
            var images = document.getElementsByClassName('screen__image');
            for (i = 0; i < images.length; i++) {
                if (i === index) {
                    images[i].style = 'display:inline'
                } else {
                    images[i].style = 'display:none'
                }
            }
        }
    </script>

    <style media='screen'>
        #my-eta-man {
            position: absolute;
            z-index: 100;
            bottom: -101px;
            left: -65px
        }
        /*1200px*/

        @media only screen and (max-width: 75em) {
            #my-eta-man {
                display: none;
            }
        }
        /* Hero Section */

        .hero-container {
            height: 68vh;
            min-height: 500px;
            background-image: url('/images/features-hero.svg');
            /*position: sticky;
  top: 0;*/
        }

        .hero-container h1 {
            position: relative;
            top: 12px;
        }

        .hero-content {
            flex: 1;
            display: flex;
            z-index: 100;
            align-items: center;
            margin-top: -102px;
        }

        @media only screen and (max-width: 75em) {
            .hero-container {
                height: 0px;
            }
            .hero-content {
                margin-top: 100px;
            }
        }
        /* 768px */

        @media only screen and (max-width: 48em) {
            .hero-container {
                background-image: -webkit-linear-gradient( -30deg, rgb(44, 212, 217) 49%, rgb(83, 51, 237) 100%);
                background-image: -moz-linear-gradient( -30deg, rgb(44, 212, 217) 49%, rgb(83, 51, 237) 100%);
                background-image: -ms-linear-gradient( -30deg, rgb(44, 212, 217) 49%, rgb(83, 51, 237) 100%);
                max-height: auto;
                min-height: 0px;
                margin-left: 0px;
                width: 100%;
                height: auto;
                display: block;
            }
            .hero-content {
                margin: 0px;
                padding-top: 40px;
                padding-bottom: 120px;
            }
        }

        #eta-screen {
            max-width: 912px;
        }
        /*1200px */

        @media only screen and (max-width: 75em) {
            #eta-screen img {
                width: 100%;
                height: auto;
            }
            #eta-screen {
                margin: 0 auto;
                margin-top: 66px;
            }
            #eta-man {
                display: none;
            }
        }
        /*768px*/

        @media only screen and (max-width: 48em) {
            #eta-screen {
                margin-top: 20px;
            }
        }
        /*1200px*/

        @media only screen and (min-width: 75em) {
            #eta-screen {
                position: absolute;
                top: 50px;
                right: -160px
            }
            #eta-screen img {
                display: block;
            }
        }
        /* Peace Of Mind */

        #peace-of-mind-group {
            position: absolute;
            right: -120px;
            top: -90px;
            z-index: -1
        }

        #peace-of-mind-group+div {
            z-index: 400;
            position: relative;
        }
        /*768px*/

        @media only screen and (max-width: 47.9999em) {
            #peace-of-mind-group {
                position: relative;
                top: 0px;
                left: -20px;
                right: 0px;
                transform: scaleX(-1);
                filter: FlipH;
            }
        }

        #support-that-cares-group {
            position: absolute;
            left: 40px;
            top: -200px;
            z-index: -1
        }
        /*768px*/

        @media only screen and (max-width: 47.9999em) {
            #support-that-cares-group {
                position: relative;
                top: 0px;
                left: 0px;
            }
        }
        /* Support That Cares */

        #support-that-cares-group+div {
            position: relative;
            z-index: -1
        }

        #features-group {
            position: absolute;
            right: 30px;
            width: 65%;
            top: -115px;
            z-index: 200
        }

        #features-group+div {
            position: relative;
            z-index: -1
        }

        .bg--blue--purple {
            background: #150773;
        }
        /*1152pxpx*/

        @media only screen and (min-width: 72em) {
            .bg--blue--purple {
                position: relative;
                background-image: -moz-linear-gradient(0deg, #150773 0%, #150773 calc(49.999999% + 128px), #3D23C0 calc(50% + 128px), #3D23C0 100%);
                background-image: -webkit-linear-gradient(0deg, #150773 0%, #150773 calc(50% + 128px), #3D23C0 calc(50% + 128px), #3D23C0 100%);
            }
        }

        #features-group+div {
            z-index: 400;
            position: relative;
        }

        .grey-box {
            background-color: #E1EAF7;
            margin-top: 30px;
            border-radius: 3px;
            text-align: left;
            padding: 30px;
        }

        .grey-box ul {
            padding: 20px;
            padding-left: 50px;
            list-style-type: disc
        }

        .grey-box ul li a {
            font-family: 'Brandon Text';
            text-decoration: none;
        }

        #left-container {
            margin-left: 0px;
            padding-left: 0px;
            height: 100vh;
        }

        .container .index-wrapper {
            z-index: 1000;
            display: block;
            padding: 20px;
            height: 80vh;
            position: -webkit-sticky; // required for Safari
            position: sticky;
            top: 0;
        }

        .index-wrapper .bullets-index {
            text-align: left;
            padding-left: 50px;
            padding-bottom: 30px;
            font-family: 'Brandon Text';
            top: 0;
            display: block;
            position: -webkit-sticky;
            position: sticky;
        }

        .bullets-index li {
            line-height: 3;
        }

        .bullets-index li a {
            text-decoration: none;
        }

        .container .content-wrapper {
            max-width: 940px;
            padding: 32px 48px;
            padding-right: 250px;
            position: relative;
        }

        li.getstarted {
            background: url('/images/startup.svg') no-repeat left top;
            background-size: 28px 28px;
            background-position: 5px 15px;
            padding-left: 44px;
            padding-top: 4px;
        }

        #chaps>li>ul.hide {
            display: none;
        }

        #box-main {
            padding: 0px;
        }

        #header-box {
            height: 150px;
            background-color: rgb(44, 212, 217);
        }

        .header-image {
            height: 50px;
            background-color: rgb(255, 255, 255);
            /*border-radius: 5px;*/
            padding: 10px;
            margin-left: 65px;
            margin-top: 30px;
        }

        #header-title {
            color: white;
            font-size: 30px;
        }

        #header-contents {
            padding: 20px;
        }

        ol.header-contents-list li {
            line-height: 2;
        }

        ol.header-contents-list li::before {
            color: #5333ed;
        }

        .header-contents-list li a {
            text-decoration: none;
            font-family: 'Brandon Text'
        }

        body {
            overflow-x: visible;
        }
        table.highlighttable{
          background: #1C3041;
          margin-bottom: 20px;
          width: 100%;
          overflow-x: auto;
        }

        pre {
          font-family: 'Cousine', monospace;
          font-size: 15px;
          padding: 15px;
          overflow-x: auto;
          white-space: pre-wrap;
          word-wrap: break-word;
          text-align: justify;
        }
        td.linenos{
          width: 40px;
          border-right: 1px solid #6E7076;
        }
        .hide {
          display: none;
        }
        input::placeholder {
          color: grey;
        }
        input:focus::placeholder {
          color: #eee;
        }
        #search_bar_sidenav input{
          border-bottom-color: black;
          background: #eee;
        }
        #search_bar_sidenav svg{
          background: #eee;
          width: 30px;
        }

        table.markdown-table{
          margin-left: auto;
          margin-right: auto;
        }
        table.markdown-table td,
        th {
            padding: 10px;

        }

        table.markdown-table tr {
            border: 1px solid #dddddd;
        }
        table.markdown-table thead{
          color: #2cd4d9;
          font-weight: 500;
          text-align: center;
        }
        table.markdown-table span.inline-code{
          border: none;
          font-size: 13px;
          font-family: 'Cousine', monospace;
        }

        a.anchor-link {
          background-image: url('/images/hashtag.svg');
          background-size: 20px 20px;
          display: inline-block;
          width: 20px;
          height: 20px;
          opacity: 0.2;
        }

        .box:hover .row h3 a.anchor-link{
          opacity: 1;
        }

        i {
          font-style: italic;
        }

        /*768px*/

        @media only screen and (max-width: 47.9999em) {
            #features-group {
                position: relative;
                top: -0px;
                width: 400px;
                right: 0px;
                transform: scaleX(-1);
                filter: FlipH;
            }
            pre {
              font-size: 12px;
            }
        @media only screen and (max-width: 320px) {
            pre {
              font-size: 10px;
            }
        @media only screen and (max-width: 75em) {
          ul.bullet-list {
            list-style-type: none;
          }
        }

        }
    </style>
    <script type='text/javascript' src='/js/scripts/jquery.accordion.js'></script>
    <script type='text/javascript' src='/js/scripts/smoothscroll.js'></script>
    <script type='text/javascript' src='/js/scripts.js'></script>


    <script type='text/javascript'>
        var $ = jQuery;
        $("#chaps > li").click(function() {
            $(this).find("ul.assignments").toggleClass('hide');
        });
        $('a[href^="#"]').click(function() {
            $('html, body').animate({
                scrollTop: $($(this).attr('href')).offset().top
            }, 500);
            return false;
        });
    </script>
    <script>
        (function(i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function() {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-89651019-1', 'auto');
        ga('send', 'pageview');
    </script>

    <script type='text/javascript' src='https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js'></script>
    <script type='text/javascript'>
    docsearch({
      apiKey: 'f929f0935053f931f73bce38eef57ba5',
      indexName: 'eta-lang',
      inputSelector: '#search-docs',
      debug: true // Set debug to true if you want to inspect the dropdown
    });
    docsearch({
      apiKey: 'f929f0935053f931f73bce38eef57ba5',
      indexName: 'eta-lang',
      inputSelector: '#min-search-docs',
      debug: true // Set debug to true if you want to inspect the dropdown
    });
    </script>
</body>

</html>
